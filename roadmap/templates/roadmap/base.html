{% extends "base.html" %}
{% load wagtailcore_tags %}

{% block content %}
    <div class="row nav mb-3">
        {% if page.depth != 3 %}
        <div class="col">
            <nav class="breadcrumb">
                {% for ancestor in page.get_ancestors %}
                    {% if ancestor.is_root == False %}
                        <a class="breadcrumb-item" href="{% pageurl ancestor %}">{{ ancestor.title }}</a>
                    {% endif %}
                {% endfor %}
                <span class="breadcrumb-item active">{{ page.title }}</span>
            </nav>
        </div>
        <div class="col">
            <div id="google_translate_element" class="text-right"></div>
            <script type="text/javascript">
                function googleTranslateElementInit() {
                  new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE, gaTrack: true, gaId: 'UA-102605542-1'}, 'google_translate_element');
                }
            </script>
            <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
        </div>
        {% endif %}
    </div>

    <div class="row content" data-name="{{ page.title }}">
        <!-- Left content -->
        <div class="col mb-4">
            {% block left-content %}{% endblock %}
            {% if page.depth != 3 %}
                <div id="checklist" class="col-md-3 col-lg-3 col-xs-12 col-sm-12">
                    <h4 class="h4-heading">Checklist</h4>
                    <div class="btn-group" role="group" aria-label="Basic example">
                      <button type="button" class="btn btn-secondary print-checklist">Print</button>
                      <button type="button" class="btn btn-secondary clear-checklist">Clear</button>
                    </div>
                    <ol class="list">

                    </ol>
                </div>
            {% endif %}
        </div>
    </div>
{% endblock %}

{% block extra_js %}
    <script>
        if(window.location.hostname !== '127.0.0.1' &&
           window.location.hostname !== 'localhost') {

            $(function () {
                $('.related-resource a').click(function (evt) {
                    var taskListTitle = $('.content').data('name'),
                        titleText = $(evt.target).text().trim();
                    ga('send', 'event', 'relatedResource', 'click', taskListTitle, titleText);
                });

                $('.faq a').click(function (evt) {
                    var taskListTitle = $('.content').data('name'),
                        titleText = $(evt.target).text().trim();
                    ga('send', 'event', 'faq', 'click', taskListTitle, titleText);
                });
            });
        }
    </script>
{% endblock %}
